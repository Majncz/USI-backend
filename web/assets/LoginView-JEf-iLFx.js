import{_ as m,u as w,r as l,c,a as e,w as h,v as g,b as d,d as b,e as S,f as x,g as y,o as i,p as k,h as V,i as I,L}from"./index-BKoI7ne0.js";const p=o=>(k("data-v-8c8fff0c"),o=o(),V(),o),B={class:"login-view form-container"},P=p(()=>e("section",null,[e("h2",null,"Přihlášení"),e("p",{class:"basic-text"},"Pro přístup do administrace zadejte heslo:")],-1)),N=p(()=>e("label",{for:"password"},"Heslo",-1)),j={key:0,class:"error"},C={__name:"LoginView",setup(o){const u=w(),f=I(),t=l(""),r=l(!1),n=l(!1);async function v(){n.value=!0,r.value=!1;try{const s=await y.post("/verify",{password:t.value});u.userId=s.data.id,f.push("/admin")}catch(s){s.response.data.message==="Wrong password"?r.value=!0:console.error(s)}n.value=!1}return(s,a)=>(i(),c("section",B,[e("form",{onSubmit:a[1]||(a[1]=x(()=>{},["prevent"]))},[P,e("div",null,[N,h(e("input",{name:"password",type:"password","onUpdate:modelValue":a[0]||(a[0]=_=>t.value=_),placeholder:"Super tajné heslo :-D"},null,512),[[g,t.value]]),r.value?(i(),c("p",j,"Špatné heslo")):d("",!0)]),e("button",{onClick:v,type:"submit"},[n.value?(i(),b(L,{key:0})):d("",!0),S(" Přihlásit se ")])],32)]))}},M=m(C,[["__scopeId","data-v-8c8fff0c"]]);export{M as default};
