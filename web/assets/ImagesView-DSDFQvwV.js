import{_ as w,u as x,r as v,y as g,c as o,l as p,b as d,F as C,q as V,a as n,G as m,g as h,o as l,L as f,p as N,h as $}from"./index-BKoI7ne0.js";const k=i=>(N("data-v-d82a7c27"),i=i(),$(),i),B={class:"images-view"},L={key:0,class:"images-loading"},z=k(()=>n("p",null,"Obrázky se načítají",-1)),F={key:1,class:"images"},G=["src"],O=["onClick"],U=k(()=>n("i",{class:"fa-solid fa-trash-can"},null,-1)),j=[U],q={key:0,class:"loading"},D={key:2,class:"pagination"},E=["disabled"],M=["disabled"],r=40,A={__name:"ImagesView",setup(i){const b=x(),a=v(null),e=v(1),u=g(()=>Math.ceil(a.value.length/r)),_=g(()=>{const s=(e.value-1)*r,t=s+r;return a.value.slice(s,t)});async function y(){const s=await h.get("/image");a.value=s.data.images.map(t=>({url:`${b.apiUrl}/image/${t.id}`,id:t.id,loading:!1}))}function I(){e.value<u.value&&e.value++}function P(){e.value>1&&e.value--}async function S(s){a.value.find(t=>t.id===s).loading=!0,await h.delete(`/image/${s}`),a.value=a.value.filter(t=>t.id!==s),_.value.length===0&&e.value>1&&e.value--}return y(),(s,t)=>(l(),o("div",B,[a.value?d("",!0):(l(),o("div",L,[p(f),z])),a.value?(l(),o("div",F,[(l(!0),o(C,null,V(_.value,c=>(l(),o("div",{key:c.id},[n("img",{src:c.url,alt:"Obrázek"},null,8,G),n("button",{onClick:H=>S(c.id)},j,8,O),c.loading?(l(),o("div",q,[p(f)])):d("",!0)]))),128))])):d("",!0),a.value?(l(),o("div",D,[n("button",{onClick:P,disabled:e.value===1},"Previous",8,E),n("span",null,"Page "+m(e.value)+" of "+m(u.value),1),n("button",{onClick:I,disabled:e.value===u.value},"Next",8,M)])):d("",!0)]))}},K=w(A,[["__scopeId","data-v-d82a7c27"]]);export{K as default};
